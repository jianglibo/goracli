/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'admin' at '16-6-15 下午4:36' with Gradle 2.4
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.4/userguide/tutorial_java_projects.html
 */


// Apply the java plugin to add support for Java

buildscript {
 repositories {
   maven {
	    url "https://plugins.gradle.org/m2/"
   }
 }
 dependencies {
   classpath "com.github.jengelman.gradle.plugins:shadow:1.2.3"
 }
}

apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'
apply plugin: "com.github.johnrengelman.shadow"

mainClassName = 'com.jianglibo.goracli.EntryPoint'

// In this section you declare where to find the dependencies of your project
repositories {
    // Use 'jcenter' for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
	mavenCentral()
	mavenLocal()
    jcenter()
}

group = "com.jianglibo"
archivesBaseName = "goracli"
version = "0.0.1-SNAPSHOT"

dependencies {
    compile group: 'org.apache.gora', name: 'gora-core', version:'0.6.1'
    compile group: 'org.apache.gora', name: 'gora-hbase', version:'0.6.1'
    compile group: 'org.apache.gora', name: 'gora-cassandra', version:'0.6.1'
    compile group: 'org.apache.gora', name: 'gora-solr', version:'0.6.1'
    compile group: 'org.apache.hadoop', name: 'hadoop-client', version:'2.5.2'
	// https://mvnrepository.com/artifact/org.apache.gora/gora-compiler-cli
	compile group: 'org.apache.gora', name: 'gora-compiler-cli', version: '0.6.1'
	
    compile(group: 'org.apache.avro', name: 'avro', version:'1.7.6') {
      exclude(module: 'ant')
    }
    compile(group: 'org.jdom', name: 'jdom', version:'1.1.3') {
      exclude(module: 'maven-cobertura-plugin')
      exclude(module: 'maven-findbugs-plugin')
    }
    compile group: 'org.slf4j', name: 'slf4j-api', version:'1.6.6'
    compile group: 'org.slf4j', name: 'slf4j-simple', version:'1.6.6'
    compile(group: 'log4j', name: 'log4j', version:'1.2.16') {
      exclude(module: 'jms')
    }
}

task copyToLib( type: Copy ) {
	into "$buildDir/libs/lib"
	from configurations.runtime
}

jar { dependsOn copyToLib }

shadowJar {
  zip64 = true
//  baseName = 'gora'
//  classifier = null
//  version = null
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.14'
}
